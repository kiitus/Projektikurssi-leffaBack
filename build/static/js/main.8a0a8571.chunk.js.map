{"version":3,"sources":["components/ShowReview.js","components/Movie.js","components/ListOfMovies.js","components/Review.js","components/Login.js","components/Information.js","components/SignUp.js","components/Notification.js","components/SearchMovieToReview.js","services/movies.js","services/login.js","services/register.js","App.js","index.js"],"names":["ShowReview","review","style","margin","rating","user","date","Movie","movie","selectToShow","toShow","show","title","removeSameline","clear","cursor","Title","onClick","Year","display","float","marginRight","src","Poster","alt","marginLeft","textAlignVertical","imdb","reviews","map","index","key","ListOfMovies","movies","useState","movieToShow","setMovieToShow","select","marginTop","Review","getReview","setRating","writeReview","setWriteReview","buttonDisabled","setButtonDisable","imdbRating","overflowX","onSubmit","event","preventDefault","length","console","log","push","setTimeout","required","min","max","step","value","name","onChange","rows","cols","target","type","disabled","Login","getLoginInformation","username","setUsername","password","setPassword","Information","SignUp","getSignUpIformation","password2","setPassword2","useHistory","Notification","message","color","SearcMovieToReview","getSearchedTitle","search","setsearch","token","axios","get","then","response","data","id","newToken","address","newReview","config","headers","Authorization","post","credentials","new_user","App","setMovies","movieToReview","setMovieToReview","setUser","errorMessage","setErrorMessage","usersMovies","setUsersMovies","sortByTitle","a","b","useEffect","movieService","sort","loggedUserJSON","window","localStorage","getItem","JSON","parse","login","loginService","setItem","stringify","catch","error","padding","to","removeItem","path","registerService","userName","SearchMovieToReview","Response","findIndex","sortArray","concat","newArray","indexOwnReviews","tmpArray","bottom","backgroundColor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a0a8571.chunk.js","sourcesContent":["import React from 'react'\r\nconst ShowReview = ({ review }) => {\r\n\r\n    const margin = {\r\n        margin: 20\r\n    }\r\nreturn(\r\n    <div style={margin}>\r\n    <div>\r\n     <b>Rating:</b> {review.rating}\r\n    </div>\r\n    <div>\r\n    <b>Review:</b> {review.review}\r\n    </div>\r\n    <div>\r\n    <b>Author:</b> {review.user} {review.date}\r\n    </div>\r\n\r\n    </div>)\r\n}\r\nexport default ShowReview\r\n","import React, { useState } from 'react'\r\nimport ShowReview from './ShowReview'\r\n\r\nconst Movie = ({ movie,selectToShow,toShow }) => {\r\n  \r\n  const show=(title)=>\r\n  {\r\n    selectToShow(title)\r\n  }\r\n\r\n  const sameLine={\r\n    display:'inline-block',\r\n    float:\"left\",\r\n    marginRight:100\r\n  }\r\n  const sameLine2={\r\n //   display:'inline-block',\r\n    marginLeft: 100,\r\n    textAlignVertical: 'top',\r\n    \r\n  }\r\n  const removeSameline={\r\n    clear:\"both\",\r\n    cursor:\"pointer\"\r\n\r\n  }\r\n\r\n  if(toShow !== movie.Title)\r\n{\r\n     return(\r\n  <h3 onClick= {()=>show(movie.Title)} style={removeSameline} >\r\n    {movie.Title} {movie.Year}\r\n  </h3>\r\n  )\r\n     }\r\n     if(toShow === movie.Title)\r\n     {\r\n      return(\r\n      <div>\r\n          <h3 onClick= {()=>show(movie.Title)} style={removeSameline}>\r\n           {movie.Title} {movie.Year}\r\n            </h3>\r\n          \r\n          <div  style={sameLine}>\r\n       \r\n          <img src={movie.Poster} alt=\"Poster\"/>\r\n          </div>\r\n          <div style={sameLine2}>\r\n        \r\n         <h2> IMDB-rating:{movie.imdb}</h2>\r\n          {movie.reviews.map((review,index)=>{\r\n            return <ShowReview key={index} review={review} />\r\n          })}\r\n          </div>\r\n          \r\n      </div>\r\n       )\r\n     }\r\n  \r\n  }\r\n\r\nexport default Movie\r\n","import Movie from './Movie'\r\nimport React, { useState } from 'react'\r\n\r\n\r\nconst ListOfMovies = ({movies}) =>{\r\n    const [movieToShow, setMovieToShow] = useState(null)\r\n\r\n    const select = (title)=>\r\n    {\r\n       \r\n        if(title===movieToShow)\r\n        setMovieToShow(null)\r\n        else\r\n        setMovieToShow(title)\r\n    }\r\n    const style={\r\n        margin:20\r\n    }    \r\n    const styleInner={\r\n    marginLeft:20,\r\n    marginTop:10\r\n    }\r\n\r\nreturn(\r\n    <div style={style}>\r\n<h2>Movies</h2>\r\n<div style={styleInner}>\r\n{movies.map((movie,index)=>\r\n{\r\nreturn <Movie key={index} movie={movie} toShow={movieToShow} selectToShow={select} />\r\n})}\r\n</div>\r\n</div>\r\n)}\r\n\r\nexport default ListOfMovies\r\n","import React, { useState } from 'react'\r\nimport NumericInput from 'react-numeric-input';\r\n\r\n\r\nconst Review = ({ movie, getReview }) =>\r\n{\r\n    const [rating,setRating] = useState(5)\r\n    const [writeReview,setWriteReview] = useState(``)\r\n    \r\n    const [buttonDisabled,setButtonDisable] = useState(false)\r\n\r\nconst reviewAdder = (event) =>\r\n{\r\n  event.preventDefault()\r\n  if(writeReview.length > 3)\r\n  {\r\n\r\n  setButtonDisable(true)\r\n \r\n// const review ={...movie,rating,review:writeReview}\r\n\r\n\r\nconst review = {Title:movie.Title,Year:movie.Year,Poster:movie.Poster,imdb:movie.imdbRating,reviews:[]}\r\n\r\nconsole.log(review.imdb)\r\nreview.reviews.push({rating,review:writeReview})\r\n\r\nconsole.log(review)\r\n getReview(review)\r\n\r\n setRating(5)\r\n setWriteReview(\"\")\r\n\r\n setTimeout(() => {\r\n  setButtonDisable(false)\r\n}, 1000)\r\n \r\n}\r\n}\r\n\r\nconst left={\r\n  display:'inline-block',\r\n  float:\"left\",\r\n  marginRight:110,\r\n  marginLeft:50\r\n}\r\nconst right={\r\n  overflowX: \"auto\"\r\n}\r\n\r\nif(movie === null)\r\n{\r\nreturn null\r\n}\r\nelse{\r\n\r\n    return(\r\n  <div>\r\n  <div style={left}>\r\n   <h2> {movie.Title} {movie.Year} </h2>\r\n  <h3> IMDB-rating:{movie.imdbRating}</h3>\r\n    <p>\r\n    <img src={movie.Poster} alt=\"Poster\"/>\r\n     </p>\r\n     </div>\r\n     \r\n     <form style={right} onSubmit={reviewAdder} >\r\n      \r\n      \r\n      <h2>Review movie</h2>\r\n    Rating <NumericInput required  min={0} max={10} step={0.1} value={rating} name=\"rating\" onChange={setRating}/>\r\n\r\n \r\n     <p> Review</p><p><textarea value={writeReview} name=\"review\"  rows={23} cols={90} \r\n         onChange={({ target }) =>setWriteReview(target.value)}/>\r\n  </p>\r\n  <button type=\"submit\" disabled={buttonDisabled}>Save review</button>\r\n</form>\r\n\r\n\r\n  </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default Review","import React, { useState } from 'react'\r\nimport {\r\n  useHistory\r\n} from 'react-router-dom'\r\n\r\n\r\nconst Login = ({getLoginInformation}) =>\r\n{\r\n    const style ={\r\n        margin: 22\r\n        }\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n  //  const history = useHistory()\r\n\r\n    const handleLogin = (event) =>\r\n    {\r\n     event.preventDefault()\r\n     \r\n     getLoginInformation(username,password)\r\n\r\n     setUsername('')\r\n     setPassword(\"\")\r\n  //   history.push('/')\r\n    }\r\n    return(\r\n    <div style={style}>\r\n     \r\n    <form onSubmit={handleLogin}>\r\n      <div>\r\n        username\r\n          <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n          <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n       \r\n        \r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n    \r\n  </div>\r\n    )\r\n}\r\nexport default Login","import React from 'react'\r\n\r\nconst margin = {\r\n    margin:20\r\n}\r\nconst Information = () =>{\r\n    return(\r\n        <div style={margin}>\r\n        <h2>Welcome to use THE REVIEWER</h2>\r\n    <p>This is an app for reading and writing reviews for movies. You can read\r\n    reviews without signing in, but to write a review you must make an account for the site. You will \r\n    see the reviews by cliking the title of the movie</p>\r\n    <p>The site has been made using React, MongoDB and node.js.</p>\r\n\r\n    </div>\r\n    )}\r\n    \r\n    export default Information","import React, { useState } from 'react'\r\nimport {\r\n  useHistory\r\n} from 'react-router-dom'\r\n\r\n\r\nconst SignUp = ({getSignUpIformation}) =>\r\n{\r\n    const style ={\r\n        margin: 22\r\n        }\r\n\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [password2, setPassword2] = useState('')\r\n    const history = useHistory()\r\n\r\n    const handleSingUp = (event) =>\r\n    {\r\n     event.preventDefault()\r\n     \r\n   console.log(getSignUpIformation(username,password,password2))\r\n\r\n    \r\n     setUsername('')\r\n     setPassword(\"\")\r\n     setPassword2(\"\")\r\n   //  history.push('/make_review')\r\n    }\r\n    return(\r\n    <div style={style}>\r\n     \r\n    <form onSubmit={handleSingUp}>\r\n      <div>\r\n        username\r\n          <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n          <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n          <input\r\n          type=\"password\"\r\n          value={password2}\r\n          name=\"Password2\"\r\n          onChange={({ target }) => setPassword2(target.value)}\r\n        />\r\n       \r\n        \r\n      </div>\r\n\r\n      <button type=\"submit\">Sign up</button>\r\n    </form>\r\n    \r\n  </div>\r\n    )\r\n}\r\nexport default SignUp","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const errorStyle ={\r\n        color:\"red\",\r\n        margin:10\r\n    }\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={errorStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState } from 'react'\r\n\r\nconst SearcMovieToReview = ({getSearchedTitle}) =>\r\n{\r\n    const [search, setsearch] = useState(\"\")\r\n\r\n    const getMovieAPI = (event)=>    //Haetaan eolkuvan tiedot omdbapi:sta\r\n    {\r\n      event.preventDefault()\r\n\r\n      getSearchedTitle(search)\r\n      \r\n      setsearch(\"\")\r\n    }\r\n    const left={\r\n      display:'inline-block',\r\n      float:\"left\",\r\n      marginRight:10\r\n    }\r\n  \r\n    return(\r\n    <div>\r\n    <form onSubmit={getMovieAPI} >\r\n      <h2>Search movie to review</h2>\r\n\r\n         Title <input type=\"text\" value={search} name=\"search\"\r\n         onChange={({ target }) =>setsearch(target.value)}/>\r\n        <button type=\"submit\">Search movie</button>\r\n    </form>\r\n    \r\n  </div>\r\n    )\r\n}\r\nexport default SearcMovieToReview","import axios from 'axios'\nconst baseUrl = '/api/movies'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst getUsersReviews = (id) =>\n{\n  const request = axios.get(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\n\nconst searchMovie = (title) =>\n{\n  const address = `https://www.omdbapi.com/?t=${title}&apikey=d20392f7`\n  return axios.get(address).then((response) =>\n  {\n   return response\n  })\n}\n\nconst create = (newReview)=>{\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const request = axios.post(baseUrl,newReview,config)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, getUsersReviews, setToken, searchMovie,create}","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/login'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = (credentials) =>{\r\n    return axios.post(baseUrl,credentials).then((response)=>\r\n     {\r\n         return response.data\r\n     })\r\n }\r\n \r\n \r\n export default { login }","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/api/users'\r\nconst baseUrl = '/api/users'\r\n\r\nconst register = (new_user)=>{\r\n  \r\n    return axios.post(baseUrl,new_user).then((response)=>\r\n    {\r\n        return response.data\r\n    }\r\n    )\r\n  }\r\n  \r\n  export default { register}","import React, { useState, useEffect } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch, Route, Link\n} from \"react-router-dom\"\n\nimport ListOfMovies from './components/ListOfMovies'\nimport Movie from './components/Movie'\nimport Review from './components/Review'\nimport Login from './components/Login'\nimport Information from './components/Information'\nimport SignUp from './components/SignUp'\nimport Notification from './components/Notification'\nimport SearchMovieToReview from './components/SearchMovieToReview'\nimport movieService from './services/movies'\nimport loginService from './services/login'\nimport registerService from './services/register'\n\nconst App = () => {\n  const [movies, setMovies] = useState([])\n // const [search, setsearch] = useState('')\n  const [movieToReview,setMovieToReview] = useState(null)\n // const [username, setUsername] = useState('') \n // const [password, setPassword] = useState('') \n  const [user, setUser] = useState(null)\n  const [errorMessage,setErrorMessage] = useState(null)\n  const [usersMovies, setUsersMovies] = useState([])\n  \n  \n\n const sortByTitle = ((a,b) =>{\n    if(a.Title > b.Title)\n    {\n      return 1\n    }\n    else if (b.Title  > a.Title)\n    {\n      return -1\n    }\n    else\n    {\n      return 0\n    }\n  })\n\n  useEffect(() => {\n    movieService.getAll().then(movies =>\n      {\n\n       movies.sort(sortByTitle); \n      setMovies( movies )\n    \n      }\n    )  \n  }, [])\n\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n    movieService.setToken(user.token)\n\n    if(user)\n    {\n      movieService.getUsersReviews(user.id).then((data)=>\n      {\n        if(data !==null)\n        {\n        data.movies.sort(sortByTitle)\n        setUsersMovies(data.movies)\n        }\n      })\n    }\n    }\n  }, [])\n\n /* const handleLogin = (event)=>{\n    event.preventDefault()\n    loginService.login({username,password}).then((user)=>{\n      console.log(user)\n      window.localStorage.setItem(\n        'loggedBlogAppUser', JSON.stringify(user)\n      ) \n      movieService.setToken(user.token)\n      setUser(user)\n      setUsername(\"\")\n      setPassword(\"\")\n    }\n    ).catch((error)=>{ \n    setErrorMessage(\n      `${error.response.data.error}`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 2000)\n  })\n} \n*/\nconst logout = ()=>{\n\n  window.localStorage.removeItem('loggedBlogAppUser')\n  setUser(null)\n  movieService.setToken(null);\n  setUsersMovies([])\n\n}\n  const searchFromAPI = (search)=>    //Haetaan eolkuvan tiedot omdbapi:sta\n  {\n  //  event.preventDefault()\n    \n    movieService.searchMovie(search).then((response)=>\n    {\n      \n     if (response.data.Response!==\"False\")\n     {\n     setMovieToReview(response.data)\n     }\n     else\n    {\n      setMovieToReview(null)\n    }\n   //  setsearch(\"\")\n    }).catch((error)=>\n    {\n    console.log(error)\n    })\n  }\n  const makeReview =(review) =>   //Käsitellään Review komponentilla tehty arvostelu\n  {\n   // event.preventDefault()\n   // const review ={...movieToReview,rating}\n  \n //  review = {...review,user:user.username}\n    review.reviews[0].date =\"today\"\n    review.reviews[0].user = user.username\n\n    console.log(\"Lisäys\")\n    movieService.create(review).then((newReview)=>\n    {\n      const index = movies.findIndex((movie)=>\n      {\n       return movie.Title ===review.Title\n      })\n      \n      if(index === -1)\n      {\n        review.reviews.length = 0//poistaa tallentamisessa käytetyn arvostelun, lisää backendin palauttaman arvostelun\n        review.reviews.push(newReview)\n        let sortArray = movies.concat(review)\n\n      sortArray.sort(sortByTitle)\n    \n\n      setMovies(sortArray)\n      //setMovies(movies.concat(review))    //Kaataa ohjelman jos tekee toisen arvoselun samalla istunnolla\n      }\n      else\n      {\n        let newArray =movies.concat()\n        //newArray[index] = {...newArray[index].reviews.push(newReview)}\n\n       \n        newArray[index].reviews.push(newReview)\n       console.log(\"Käykö 2 kertaa\")\n        setMovies(newArray)\n       \n      }\n\n      const indexOwnReviews = usersMovies.findIndex((movie)=>\n      {\n       return movie.Title ===review.Title\n      })\n      \n      if(indexOwnReviews === -1)\n      {\n    \n        let sortArray\n       \n        if(index ===-1)\n         sortArray = usersMovies.concat(review)\n        else      //Jos leffaa on jo arvostelu,mutta uusi kyseiselle käyttäjälle\n        sortArray =usersMovies.concat(movies[index])\n        \n        sortArray.sort(sortByTitle)\n       setUsersMovies(sortArray)\n      //setUsersMovies(usersMovies.concat(review))    //Kaataa ohjelman jos tekee toisen arvoselun samalla istunnolla\n      }\n      else    \n      {\n        let tmpArray = usersMovies.concat()\n\n     /*\n     let deletedItem = tmpArray.filter((item)=>\n        {\n          return item.Title !== review.Title\n        })\n\n        deletedItem.concat(movies[index])\n\n        deletedItem.sort(sortByTitle)\n        */\n        \n      /*  let tmpArray = usersMovies.concat()\n        //newArray[index] = {...newArray[index].reviews.push(newReview)}\n\n       console.log(newReview)\n        \n       */\n    //  tmpArray[indexOwnReviews].reviews.push(review.reviews[0])\n    tmpArray[indexOwnReviews].reviews.push(newReview)\n        setUsersMovies(tmpArray)\n        \n       \n      }\n\n\n\n      setMovieToReview(null)\n    })\n \n  }\n\n  const login =(username,password) =>\n  {\n  \n    loginService.login({username,password}).then((user)=>{\n    \n      window.localStorage.setItem(\n        'loggedBlogAppUser', JSON.stringify(user)\n      ) \n      movieService.setToken(user.token)\n    \n      movieService.getUsersReviews(user.id).then((data)=>  \n      {\n        data.movies.sort(sortByTitle)\n        setUsersMovies(data.movies)\n      })\n      setUser(user)\n\n    }).catch((error)=>{setErrorMessage(\n    \n      `${error.response.data.error}`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 6000)\n  })\n\n  }\n \n\nconst getSignUpIformation = (username,password,password2)=>{\n  if(password === password2)\n  {\n\n     registerService.register({userName:username,password}).then((user)=>\n    {\n      login(user.userName,password)\n      console.log(\"Oikein, pitäisi tulla true\")\n      \n      setErrorMessage(\"Account created. Redirect doesn't work yet,please click \\\"make review\\\"\")\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 16000)\n\n    \n    }).catch((error)=>\n    {\n      \n      console.log(error.response)\n      setErrorMessage(error.response.data.message)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 6000)\n\n      console.log(\"Väärin, pitäisi tulla false\")\n     return false\n     console.log(\"Falsen jälkeen\")\n    })\n  }else\n  {\n    setErrorMessage(\"Passwords didn't match\")\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 6000)\n    return false\n  }\n}\n\n\nconst padding = {\n  padding: 15\n}\nconst margin ={\nmargin:50,\noverflowX: \"auto\"\n}\n\nreturn(\n\n<div style = {margin}>\n  <Router>\n     \n      <div>\n        <Link style={padding} to=\"/\">home</Link>\n        <Link style={padding} to=\"/reviews\">all reviews</Link>\n        <Link style={padding} to=\"/your_reviews\">movies reviewed by you</Link>\n        <Link style={padding} to=\"/make_review\">make review</Link>\n      {user ?\n      null :  \n      <Link style={padding} to=\"/sign_up\">Sign up</Link>}\n        {user\n      ? <em>{user.username} logged in <button onClick={logout}> Logout</button></em>\n      : <span>You are not logged in</span>\n     // : <Link style={padding} to=\"/login\">login</Link>\n    }\n      </div>\n\n      <Switch>\n        <Route path=\"/sign_up\">\n          <Notification message={errorMessage}/>\n          <SignUp getSignUpIformation={getSignUpIformation} />\n        </Route>\n        <Route path=\"/reviews\">\n          <ListOfMovies  movies={movies} />\n        </Route>\n        <Route path=\"/your_reviews\">\n          {user?\n          <ListOfMovies movies={usersMovies} />:\n          <div><Notification message={errorMessage}/>\n          <Login getLoginInformation={login}/>\n          </div>}\n        </Route>\n        <Route path=\"/make_review\">\n          {user? <div >\n        <SearchMovieToReview getSearchedTitle={searchFromAPI}/>\n        <Review movie={movieToReview} getReview={makeReview} />\n        </div>\n        :<div>\n          <Notification message={errorMessage} />\n          <Login getLoginInformation={login}/></div>}\n        </Route>\n        <Route path=\"/login\">\n        <Login getLoginInformation={login}/>\n        </Route>\n       < Route path=\"/\">\n       <Information/>\n        </Route>\n      </Switch>\n\n      <footer style={{clear:'both',marginTop:40,bottom:0,\n    padding:20,backgroundColor:\"grey\"}}>\n        <i>Teemu Hallinen, Ohjelmistosuunnittelu täydennyskoulutus 2019-2020</i>\n      </footer>\n    </Router>\n    </div>\n   \n)\n  \n}\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}